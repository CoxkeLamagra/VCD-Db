$Id$

VCD-db README ($Date$)

Installation.

1)  Unzip the VCD-db file on your webserver. 
2)  You must have a database access. 
3)  Create an empty database.
	At the moment the following databases are supported 
	(although others might work like Oracle) 
	a) MySQL (3.x/4.x/5.x) 
	b) Microsoft SQL (7 and 2000) 
	c) Postgre SQL 7.4, 7.5, 8, 8.1 (Even without OID's enabled)
	d) IBM DB2 (7.2 and up) 
	e) SQLite
4)  If your webserver is on a Win32 box this step is unneccassary,
	otherwise if your webserver is on a Unix/Linux box, you must have an Shell Access 
	to chmod some files and folders. Open up a console session to your box and
	go to the directory where you extracted the VCD-DB zip file.
	Enter the following commands: 
	
	chmod 0777 classes/VCDConstants.php
	chmod 0777 upload
	chmod 0777 upload/cache
	chmod 0777 upload/covers
	chmod 0777 upload/pornstars
	chmod 0777 upload/screenshots/albums
	chmod 0777 upload/screenshots/generated
	chmod 0777 upload/thumbnails
	

5)  After a successfull install, delete the install folder and 
    if you are running VCD-db on a linux box chmod the VCDConstants.php back to 0644
    to prevent any further writing or modification to the file.


Upgrading.

Upgrading from 0.973
	First of all you need to change the table structure of the table "vcd_MetaData".
	STEP 1)	 Add 1 new column AFTER the column "record_id",
			 The new column name is "mediatype_id" of type "int" 
	
	STEP 2) Open the installer in the vcddb/setup/ folder and select the UPGRADE button.
			On the upgrade page, select "Update Metadata".
			By doing so you are rebuilding the metadata, no data will be lost.
	
	STEP 3) Again open table "vcd_MetaData" and rename column "metadata_name" to "type_id"
			and change the datatype to "int".

	STEP 4) Verify that your "vcd_MetaData" table is as follows after the changes ...
			metadata_id (int)
			record_id (int)
			mediatype_id (int)
			user_id (int)
			type_id (int)
			metadata_value (varchar)
			
	STEP 5) Now the dull part is over and you can head back to the "Upgrade Page" and
			click on the "Upgrade VCD-db" button.
			


Upgrading from 0.971 or 0.972
   Open the path to your vcd-db installation.
   Open file "classes/VCDConstants.php" and copy your Database settings to an empty
   text document.  Close the file VCDConstants.php and unzip the new release to same
   location your existing VCD-db is in and overwrite all files.
   Open the file "classes/VCDConstants.php" and paste in you database settings over the 
   default ones, also update the proxy settings if your were using proxy server before.
   Delete the "setup" folder and start using VCD-db again.
   
Upgrading from 0.97
   Open the path to your vcd-db installation.
   Open file "classes/VCDConstants.php" and copy your Database settings to an empty
   text document.  Close the file VCDConstants.php and unzip the new release to same
   location your existing VCD-db is in and overwrite all files.
   Open the file "classes/VCDConstants.php" and paste in you database settings over the 
   default ones.  
   NOW THE BORING PART !!
   Open your sql database and .. do the following,
   		1) Edit table vcd_MetaData - Change the size of the "metadata_value" column to 100
   		2) Edit table vcd_RssFeeds - Change the size of the "feed_url" column to 150
   		(This is not vital, but otherwise new data may be partially inserted)
   		
   Open a browser to your VCD-db SETUP folder "http://server.com/vcddb/setup/" and select the "Upgrade"
   button.  From there select upgrade FROM 0.97 !!!
   Delete the "setup" folder and start using VCD-db again.

Upgrading from 0.96
   Open the path to your vcd-db installation.
   Open file "classes/VCDConstants.php" and copy your Database settings to an empty
   text document.  Close the file VCDConstants.php and unzip the new release to same
   location your existing VCD-db is in and overwrite all files.
   Open the file "classes/VCDConstants.php" and paste in you database settings over the 
   default ones.  
   Open a browser to your VCD-db SETUP folder "http://server.com/vcddb/setup/" and select the "Upgrade"
   button.  From there select upgrade.
   Delete the "setup" folder and start using VCD-db again.



Upgrading from 0.95a
   Unzip the new release to same location your existing VCD-db is in and overwrite all files.
   Open the file "classes/VCDConstants.php" and update your database settings.
   Open a browser to your VCD-db SETUP folder "http://server.com/vcddb/setup/" and select the "Upgrade"
   button.  From there select upgrade.
   Delete the "setup" folder and start using VCD-db again.



  
Installation Notes:
For the 99.9% of users, USE THE INSTALLER, use/read the following only if your are
having troubles using the installer.
Some people have reported problems when installing VCD-db on MySQL .. 
The exact problem has not been foundm, but just in case the installer is not working for you
there is a SQL script file for MySQL for creating the tables under "/setup/vcd_mysql.sql", but
If you execute the SQL file instead of using the supplied installer you will need to
manually update the file "classes/VCDConstants.php" with the correct DB parameters.
The script created the user admin with the same password.
   
Application Notes:
1) You can change the template that VCD-db uses by modifying the "STYLE" constant in the VCDConstants.php
   file, for example try changing it to "includes/templates/exprm/" for a new look.

2) All major settings are stored in the "classes/VCDConstants.php" file.

3) If your text gets escaped in the database (like this-> "Mary\'s") then edit your php.ini and set
  "magic_quotes_gpc = Off" and "magic_quotes_runtime = Off" to disable them.
  
4) You can access the XML RSS feed generated by VCD-db under the "yourserver.com/vcddb/rss/" path.

5) If you have made your own templates or translation, please send them to me (konni the author) and I will
   include it in future releases.
   
6) The VCD-db GUI client does not work with VCD-db installed on IIS servers at the moment, 
   this will be fixed in the future.
   
7) When using PostgreSQL, make sure the encoding is set to Latin1 not Unicode

8) When LDAP is used for authentication (defined in the classes/VCDConstants.php) users can not register,
   All they have to do is login with their LDAP account and then the user is created for them.